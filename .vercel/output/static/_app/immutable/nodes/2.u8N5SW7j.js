import{g,m as b}from"../chunks/api.CPSkk_H2.js";import{a as h,t as k}from"../chunks/disclose-version.DhBPWEzS.js";import{p as P,av as d,aw as O,t as _,a as $,s as p,c as S,r as T,aa as u,w as x,v as a,a8 as f,f as z}from"../chunks/runtime.CkbBmVUN.js";import{i as j}from"../chunks/lifecycle.DBvMT_G9.js";import{p as C}from"../chunks/props.BJn1IbXj.js";import{v as y}from"../chunks/views.CsD7ccHN.js";import{C as w}from"../chunks/Carousel.CFhIwPV_.js";import{s as m}from"../chunks/attributes.DGkeEIjo.js";async function H({fetch:t}){const[o,e,s]=await Promise.all([g(t,"trending/movie/day",{page:"1"}),g(t,"movie/now_playing",{page:"1"}),g(t,"movie/upcoming",{page:"1"})]),r=await g(t,`movie/${o.results[0].id}`,{append_to_response:"images,videos,recommendations"});return{trending:o,featured:r,nowPlaying:e,upcoming:s}}const L=Object.freeze(Object.defineProperty({__proto__:null,load:H},Symbol.toStringTag,{value:"Module"}));var M=k('<a class="column svelte-167lnyy"><img class="backdrop svelte-167lnyy"> <img class="logo svelte-167lnyy"></a>');function q(t,o){P(o,!1);const e=f(),s=f(),r=f();let i=C(o,"movie",8);d(()=>x(i()),()=>{u(e,i().images)}),d(()=>a(e),()=>{u(s,a(e).backdrops.find(v=>!v.iso_639_1)||a(e).backdrops[0])}),d(()=>a(e),()=>{u(r,a(e).logos.find(v=>v.iso_639_1==="en")||a(e).logos[0])}),O(),j();var n=M(),l=S(n);_(()=>m(l,"src",b(a(s).file_path,1280)));var c=p(l,2);_(()=>m(c,"src",b(a(r).file_path,1280))),T(n),_(()=>{m(n,"href",`/movies/${i().id??""}`),m(l,"alt",i().title),m(l,"style",`aspect-ratio: ${a(s).aspect_ratio??""};`),m(c,"alt",i().title),m(c,"style",`aspect-ratio: ${a(r).aspect_ratio??""};`)}),h(t,n),$()}var A=k('<h1 class="column">Top trending movies</h1> <!> <!> <!> <!>',1);function N(t,o){P(o,!1);let e=C(o,"data",8);j();var s=A(),r=p(z(s),2);q(r,{get movie(){return e().featured}});var i=p(r,2);w(i,{get movies(){return e().trending.results},get view(){return y.trending},href:"/movies/trending"});var n=p(i,2);w(n,{get movies(){return e().nowPlaying.results},get view(){return y.now_playing},href:"/movies/now_playing"});var l=p(n,2);w(l,{get movies(){return e().upcoming.results},get view(){return y.upcoming},href:"/movies/upcoming"}),h(t,s),$()}export{N as component,L as universal};
